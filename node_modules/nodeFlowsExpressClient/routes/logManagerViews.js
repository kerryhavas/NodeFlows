module.exports = function (app) {

    var nodeFlows = require('nodeFlows');
    var workflowManager = nodeFlows.workflowManager;


    app.get('/log/history', function (req, res) {
        var logToMemory = require("url").parse(req.url, true).query.logtomemory;
        if (logToMemory !== undefined) {
            nodeFlows.logManager.logToMemory = logToMemory;
        };
        var clearLog = require("url").parse(req.url, true).query.clearlog;
        if (clearLog !== undefined) {
            nodeFlows.logManager.clearLog();
        };

        var clearhistory = require("url").parse(req.url, true).query.clearhistory;
        if (clearhistory !== undefined) {
            nodeFlows.historyManager.clearHistory();
        };
        res.render('../node_modules/nodeFlowsExpressClient/views/logHistory', { title: 'Log History', logHistory: nodeFlows.logManager.getLogHistory(), logToMemory: nodeFlows.logManager.logToMemory })
    });


}