var nodeFlows = require('../nodeFlows');

exports.executeActivity = executeActivity;

function executeActivity(workflow, args, callback) {
    var evalCondition = eval("(" + args.Condition + ")");
    nodeFlows.log("Evaluated:" + evalCondition);

    workflow.addHistory({ task: "Eval", notes: args.Condition + "=" + evalCondition });

     if(evalCondition) {
         //workflow.status = "Busy";
         callback({ success: true });
     }
     else {
         workflow.status = "Blocked";

         callback({ success: true });
     }
  

}
