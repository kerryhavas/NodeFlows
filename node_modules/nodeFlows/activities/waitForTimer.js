var nodeFlows = require('../nodeFlows');
var timerManager = require('../timerManager.js');

exports.executeActivity = executeActivity;

function executeActivity(workflow, args, callback) {

    var currentStep = workflow.getWorkflowStep(workflow.currentStepName);
    nodeFlows.log("Next Step after wait:" + currentStep.nextStep);

    workflow.status = "Blocked";

    callback({ success: true });

    //workflow.getQueueWorker().releaseQueueWorker("WaitForTimer");
    timerManager.setWakeup(args.waitTime,workflow._id.toString(),currentStep.nextStep);

    //callback({success: true, activity: "waitForTimer"});


}
