
exports.executeActivity = executeActivity;

function executeActivity(workflow, args, callback) {

    var http = require("http");

    var x = "";
    http.get({ host: args.host, path: args.path }, function(res) {
        res.on('data', function(d) {
            x += d.toString();
            //console.log(d.toString() + "<br>");
            //console.log("NoString:" + d.toString() + "<br>");
            //console.log(d.query);
        })
        res.on('end', function() {
            var l = JSON.parse(x.substring(7, x.length - 2));
            nodeFlows.log("Results:" + x);
            nodeFlows.log("Result:" + l.query.results.quote[0].symbol + '');
            callback({ success: true, activity: "callUrlActivity" });
        });

    });
}
